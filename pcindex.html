<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PatternChooser</title>

    <!-- Temp fonts: adjust later -->
    <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Kalam:wght@400;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/pcstyle.css?v=<?= Date.now ?>">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<div class="pc-wrapper">

    <!-- NEW: scrapbook sheet -->
    <section class="pc-canvas">
        <!-- Top bar -->
        <header class="pc-header">
            <div class="pc-banner">
                <div class="pc-paper">
                    <img src="Images/pc_logo.png" alt="PatternChooser" class="pc-logo-img">
                    <img src="Images/tapes/tape_yellow_left_tilt.png" alt="" class="pc-tape" aria-hidden="true">
                </div>
            </div>

            <nav class="pc-nav">
                <button id="tabSimple" class="pc-nav-img pc-tab-simple"   data-mode="simple"   aria-label="Simple Draw"></button>
                <button id="tabSimilar" class="pc-nav-img pc-tab-similar"  data-mode="similar"  aria-label="Similar Patterns"></button>
                <button id="tabContrast" class="pc-nav-img pc-tab-contrast" data-mode="contrast" aria-label="Contrast Patterns"></button>
                <button id="tabCredits" class="pc-nav-img pc-tab-credits"  data-mode="credits"  aria-label="Credits"></button>
            </nav>
        </header>

        <!-- Main content area -->
        <main class="pc-main">
            <div id="emptyState" class="pc-empty" style="display:none;">
                Crack open the design binder, kid.<br>
                Hit <strong>Simple Draw</strong> to deal three fresh patterns from the vault.<br>
                If you fall in love with one, <i>Add to Scrapbook</i> ▸<br>
                If you hate one… congratulations, that’s design.<br>
                No wrong answers — Every pattern is a building block.
            </div>

            <section class="pc-main-cards" id="mainCards"></section>


            <!-- Similar Patterns panel -->
            <section class="pc-main-panel pc-main-panel-similar" id="similarPanel" hidden>
                <div class="pc-panel-inner">
                    <!-- Content is injected by JS -->
                </div>
            </section>

            <!-- Contrasting Patterns panel -->
            <section class="pc-main-panel pc-main-panel-contrast" id="contrastPanel" hidden>
                <div class="pc-panel-inner">
                    <!-- Content is injected by JS -->
                </div>
            </section>


            <aside class="pc-saved" id="savedStack">
                <h3 class="pc-saved-label"></h3>
            </aside>
        </main>
    </section>

    <!-- Bottom-left logo (stays on desk) -->
    <a class="pc-logo-link" href="https://outboxgames.com" target="_ogSite" rel="noopener">
        <img src="Images/oglogo.svg" alt="OutBox Games" class="pc-logo">
    </a>
</div>

<script>
    window.onerror = function (msg, src, line, col, err) {
        const pre = document.createElement('pre');
        pre.style.position = 'fixed';
        pre.style.top = '10px';
        pre.style.left = '10px';
        pre.style.right = '10px';
        pre.style.zIndex = '9999';
        pre.style.background = '#fff';
        pre.style.border = '1px solid #000';
        pre.style.padding = '10px';
        pre.style.fontFamily = 'monospace';
        pre.style.whiteSpace = 'pre-wrap';
        pre.textContent = 'JS Error:\n' + msg + '\n' +
            'Source: ' + src + '\n' +
            'Line: ' + line + ', Col: ' + col;
        document.body.innerHTML = '';
        document.body.appendChild(pre);
    };
</script>

<script src="js/pcmain.js?v=<?= Date.now ?>"></script>
<script src="js/helpers.js?v=<?= Date.now ?>"></script>
</body>
</html>
